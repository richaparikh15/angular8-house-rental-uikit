{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../data.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../home-type-filter/home-type-filter.component\";\nconst _c0 = a0 => ({\n  \"uk-button-primary\": a0\n});\nfunction HomesComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"app-home-type-filter\", 8);\n    i0.ɵɵlistener(\"applied\", function HomesComponent_div_7_Template_app_home_type_filter_applied_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.homeTypeFilterApplied($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"defaultFilters\", ctx_r1.currentHomeTypeFilters);\n  }\n}\nfunction HomesComponent_div_14_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"div\", 11);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction HomesComponent_div_14_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 12)(2, \"div\", 13);\n    i0.ɵɵelement(3, \"img\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"div\", 16);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 17);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const home_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", home_r3.image_url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", home_r3.type, \" / \", home_r3.location, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", home_r3.title, \" \");\n  }\n}\nfunction HomesComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, HomesComponent_div_14_ng_container_1_Template, 2, 0, \"ng-container\", 6);\n    i0.ɵɵelementStart(2, \"div\", 9);\n    i0.ɵɵtemplate(3, HomesComponent_div_14_div_3_Template, 9, 4, \"div\", 10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const homes_r4 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", homes_r4.length == 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", homes_r4);\n  }\n}\nexport let HomesComponent = /*#__PURE__*/(() => {\n  class HomesComponent {\n    constructor(dataService, router, route) {\n      this.dataService = dataService;\n      this.router = router;\n      this.route = route;\n      this.homeTypeDropdownOpen = false;\n      this.currentHomeTypeFilters = [];\n      this.homes$ = this.dataService.homes$;\n    }\n    ngOnInit() {\n      this.route.queryParams.subscribe(params => {\n        const homeTypeFilters = params['home-type'] || [];\n        this.dataService.loadHomes(homeTypeFilters);\n        this.currentHomeTypeFilters = homeTypeFilters;\n      });\n    }\n    homeTypeFilterApplied($event) {\n      this.homeTypeDropdownOpen = false;\n      this.router.navigate(['homes'], {\n        queryParams: {\n          'home-type': $event\n        }\n      });\n    }\n    trackMe() {\n      gtag('event', 'click', {\n        'event_category': 'DATE_BUTTON_CLICK',\n        'event_label': 'Dates button cliked',\n        'value': 'Dates button has been clicked'\n      });\n      console.log('event called');\n    }\n    static #_ = this.ɵfac = function HomesComponent_Factory(t) {\n      return new (t || HomesComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HomesComponent,\n      selectors: [[\"app-homes\"]],\n      decls: 16,\n      vars: 7,\n      consts: [[1, \"uk-container\", \"uk-padding\"], [1, \"uk-margin\", \"uk-flex\", \"uk-grid-small\"], [\"id\", \"home_type\", 1, \"uk-button\", \"uk-button-default\", \"uk-button-small\", \"uk-text-nowrap\", 3, \"click\", \"ngClass\"], [\"class\", \"uk-dropdown uk-open uk-width-medium\", 4, \"ngIf\"], [\"id\", \"date\", 1, \"uk-button\", \"uk-button-default\", \"uk-button-small\", \"uk-text-nowrap\", 3, \"click\"], [\"id\", \"guest\", 1, \"uk-button\", \"uk-button-default\", \"uk-button-small\", \"uk-text-nowrap\"], [4, \"ngIf\"], [1, \"uk-dropdown\", \"uk-open\", \"uk-width-medium\"], [3, \"applied\", \"defaultFilters\"], [\"uk-grid\", \"\", 1, \"uk-child-width-1-3@s\", \"uk-grid-match\"], [4, \"ngFor\", \"ngForOf\"], [\"uk-spinner\", \"ratio: 3\", 1, \"uk-text-center\", \"uk-align-center\"], [1, \"uk-card\", \"uk-margin\"], [1, \"uk-card-media-top\"], [\"alt\", \"\", 3, \"src\"], [1, \"uk-card-body\", \"uk-padding-remove\"], [1, \"uk-text-muted\", \"uk-text-uppercase\", \"uk-text-bold\", \"uk-text-truncate\", \"uk-text-small\"], [1, \"uk-text-bold\"]],\n      template: function HomesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"Homes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\")(5, \"button\", 2);\n          i0.ɵɵlistener(\"click\", function HomesComponent_Template_button_click_5_listener() {\n            return ctx.homeTypeDropdownOpen = !ctx.homeTypeDropdownOpen;\n          });\n          i0.ɵɵtext(6, \"Home Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(7, HomesComponent_div_7_Template, 2, 1, \"div\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\")(9, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function HomesComponent_Template_button_click_9_listener() {\n            return ctx.trackMe();\n          });\n          i0.ɵɵtext(10, \"Dates\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\")(12, \"button\", 5);\n          i0.ɵɵtext(13, \"Guests\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(14, HomesComponent_div_14_Template, 4, 2, \"div\", 6);\n          i0.ɵɵpipe(15, \"async\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, ctx.currentHomeTypeFilters.length > 0));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.homeTypeDropdownOpen);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(15, 3, ctx.homes$));\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.HomeTypeFilterComponent, i3.AsyncPipe],\n      encapsulation: 2\n    });\n  }\n  return HomesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}